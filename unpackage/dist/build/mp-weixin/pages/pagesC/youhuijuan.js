(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pagesC/youhuijuan"],{1182:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=a(t("a34a"));function a(n){return n&&n.__esModule?n:{default:n}}function i(n,e,t,u,a,i,o){try{var c=n[i](o),r=c.value}catch(s){return void t(s)}c.done?e(r):Promise.resolve(r).then(u,a)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(u,a){var o=n.apply(e,t);function c(n){i(o,u,a,c,r,"next",n)}function r(n){i(o,u,a,c,r,"throw",n)}c(void 0)}))}}var c={data:function(){return{youhuijuan:{},list:[],title:""}},onLoad:function(n){var e=this;this.$api.cupons({id:n.id}).then((function(n){e.destaoxi=[],1==n.data.code&&(e.youhuijuan=n.data.data.status[0],e.youhuijuan.image=e.youhuijuan.image.split(","),e.youhuijuan.image.forEach((function(n){e.list.push(e.$imgPath+n)})),e.title=e.youhuijuan.name)}))},methods:{goumai:function(){var e=this;return o(u.default.mark((function t(){return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$login();case 2:if(!t.sent){t.next=4;break}e.$api.paycupons({user_id:n.getStorageSync("user_info").id,coupons_id:e.youhuijuan.id}).then((function(e){if(200==e.data.code){n.requestPayment({timeStamp:e.data.data.timeStamp,nonceStr:e.data.data.nonceStr,package:e.data.data.package,signType:e.data.data.signType,paySign:e.data.data.paySign,success:function(e){n.showToast({title:"支付成功",icon:"none"}),setTimeout((function(){n.reLaunch({url:"../pagesA/gongju4"})}),800)},fail:function(e){n.showToast({title:"支付失败",icon:"none"})}})}else n.showToast({title:e.data.msg,icon:"none"})}));case 4:case"end":return t.stop()}}),t)})))()},kansss:function(e){n.previewImage({urls:this.list,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(n){},fail:function(n){}}})},back:function(e){switch(e){case 0:n.navigateBack(-1);break;case 1:n.reLaunch({url:"/pages/Home/Home"});break;default:}}}};e.default=c}).call(this,t("543d")["default"])},"435f":function(n,e,t){"use strict";(function(n){t("c9dc");u(t("66fd"));var e=u(t("9ddd"));function u(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t("543d")["createPage"])},"4baf":function(n,e,t){},"5ee3":function(n,e,t){"use strict";t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return u}));var u={uNavbar:function(){return t.e("uview-ui/components/u-navbar/u-navbar").then(t.bind(null,"452c"))},uSwiper:function(){return t.e("uview-ui/components/u-swiper/u-swiper").then(t.bind(null,"0d37"))},uParse:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-parse/u-parse")]).then(t.bind(null,"ac6a"))},uKehu:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-kehu/u-kehu")]).then(t.bind(null,"4dd2"))}},a=function(){var n=this,e=n.$createElement;n._self._c},i=[]},"9ddd":function(n,e,t){"use strict";t.r(e);var u=t("5ee3"),a=t("a89d");for(var i in a)"default"!==i&&function(n){t.d(e,n,(function(){return a[n]}))}(i);t("ac3b");var o,c=t("f0c5"),r=Object(c["a"])(a["default"],u["b"],u["c"],!1,null,"e4f1c8e6",null,!1,u["a"],o);e["default"]=r.exports},a89d:function(n,e,t){"use strict";t.r(e);var u=t("1182"),a=t.n(u);for(var i in u)"default"!==i&&function(n){t.d(e,n,(function(){return u[n]}))}(i);e["default"]=a.a},ac3b:function(n,e,t){"use strict";var u=t("4baf"),a=t.n(u);a.a}},[["435f","common/runtime","common/vendor"]]]);