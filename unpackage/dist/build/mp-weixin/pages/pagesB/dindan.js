(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pagesB/dindan"],{1363:function(i,t,a){"use strict";(function(i){a("c9dc");n(a("66fd"));var t=n(a("38d1"));function n(i){return i&&i.__esModule?i:{default:i}}wx.__webpack_require_UNI_MP_PLUGIN__=a,i(t.default)}).call(this,a("543d")["createPage"])},"38d1":function(i,t,a){"use strict";a.r(t);var n=a("77e8"),e=a("757d");for(var s in e)"default"!==s&&function(i){a.d(t,i,(function(){return e[i]}))}(s);a("9346");var o,u=a("f0c5"),h=Object(u["a"])(e["default"],n["b"],n["c"],!1,null,"14b38e14",null,!1,n["a"],o);t["default"]=h.exports},"757d":function(i,t,a){"use strict";a.r(t);var n=a("b16a"),e=a.n(n);for(var s in n)"default"!==s&&function(i){a.d(t,i,(function(){return n[i]}))}(s);t["default"]=e.a},"77e8":function(i,t,a){"use strict";a.d(t,"b",(function(){return e})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}));var n={uNavbar:function(){return a.e("uview-ui/components/u-navbar/u-navbar").then(a.bind(null,"452c"))},uSearch:function(){return a.e("uview-ui/components/u-search/u-search").then(a.bind(null,"92c6"))},uTabs:function(){return Promise.all([a.e("common/vendor"),a.e("uview-ui/components/u-tabs/u-tabs")]).then(a.bind(null,"c85c"))},uEmpty:function(){return Promise.all([a.e("common/vendor"),a.e("uview-ui/components/u-empty/u-empty")]).then(a.bind(null,"d5eb"))},uHeigth:function(){return a.e("uview-ui/components/u-heigth/u-heigth").then(a.bind(null,"9270"))},uPopup:function(){return a.e("uview-ui/components/u-popup/u-popup").then(a.bind(null,"d62c"))},uInput:function(){return Promise.all([a.e("common/vendor"),a.e("uview-ui/components/u-input/u-input")]).then(a.bind(null,"fd95"))},uKehu:function(){return Promise.all([a.e("common/vendor"),a.e("uview-ui/components/u-kehu/u-kehu")]).then(a.bind(null,"4dd2"))},uIcon:function(){return a.e("uview-ui/components/u-icon/u-icon").then(a.bind(null,"9f16"))}},e=function(){var i=this,t=i.$createElement;i._self._c;i._isMounted||(i.e0=function(t){i.qurren=!1},i.e1=function(t){i.shows=!1})},s=[]},9346:function(i,t,a){"use strict";var n=a("a777"),e=a.n(n);e.a},a777:function(i,t,a){},b16a:function(i,t,a){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{jifen:0,shouhouitem:"",quxiaoshouhou:!1,shoujihao:i.getStorageSync("user_info").mobile,yianzhaungkaiguan:!0,yianzhaungxieyi:[],shifouanzhaungkaiguan:!0,shifouanzhaungxieyi:[],querenqianshoukaiguan:!0,querenqianshouxieyi:[],bzxq:{},anzhuang:!1,kuaididata:{},kuaididanhao:"",kuaidigongsi:"",kuaidi:!1,zhuangtai:0,qurrsaen:"",qurren:!1,code:"",buyanzheng:!0,timea:0,huoqu:"获取验证码",shoujiyanzheng:!1,yuedu:!1,xieyi:[],mnbv:"",baozhuangshow:!1,hahahaxuanzhe:{},imgtitle:this.$imgPath,show:!1,shows:!1,showa:!1,height:0,current:0,title:"",lists:[{name:"全部"},{name:"待发货"},{name:"发货中"},{name:"已收货"},{name:"报装中"},{name:"已安装"}],list:[{status:"all",data_list:[]},{status:1,data_list:[]},{status:2,data_list:[]},{status:3,data_list:[]},{status:4,data_list:[]},{status:5,data_list:[]}],time:"",pingjiaok:0}},onLoad:function(t){var a=this;t.jifen&&(this.jifen=t.jifen,this.lists=[{name:"全部"},{name:"待发货"},{name:"待收货"},{name:"已完成"}],this.list=[{status:"all",data_list:[]},{status:1,data_list:[]},{status:2,data_list:[]},{status:3,data_list:[]}]),i.$on("number",(function(){})),i.$on("yuwancheng",(function(){a.current=3})),this.title=t.title,t.current&&(this.current=t.current)},onShow:function(){var t=this;this.system(),this.allsss();var a=i.getStorageSync("xieyi");a?(this.yiwanchengxieyi=[],this.yianzhaungxieyi=[],this.shifouanzhaungxieyi=[],this.querenqianshouxieyi=[],a.forEach((function(i){3==i.state&&t.yianzhaungxieyi.push(i),5==i.state&&t.shifouanzhaungxieyi.push(i),2==i.state&&t.querenqianshouxieyi.push(i)})),this.yianzhaungxieyi.length>0?this.yianzhaungkaiguan=!0:this.yianzhaungkaiguan=!1,this.shifouanzhaungxieyi.length>0?this.shifouanzhaungkaiguan=!0:this.shifouanzhaungkaiguan=!1,this.querenqianshouxieyi.length>0?this.querenqianshoukaiguan=!0:this.querenqianshoukaiguan=!1):(this.yianzhaungkaiguan=!1,this.shifouanzhaungkaiguan=!1,this.querenqianshoukaiguan=!1)},watch:{shoujiyanzheng:function(i,t){i||(this.code="")}},methods:{jfquerenshouhuo:function(t){var a=this;this.$api.sureorder({id:t.id}).then((function(t){1==t.data.code&&(i.showToast({title:"收货成功",icon:"none"}),a.allsss(),a.current=3)}))},fou:function(){var i=this;this.$api.fou({orderid:this.mnbv.orderid}).then((function(t){i.baozhuangshow=!1}))},shouhoou:function(t){var a=this;1==t?this.$api.xqsh({orderid:this.shouhouitem.orderid}).then((function(t){1==t.data.code&&(a.allsss(),a.quxiaoshouhou=!1),i.showToast({title:t.data.msg,icon:"none"})})):this.quxiaoshouhou=!1},baozhuangpngji:function(i,t){this.pingjiaok=i,this.annui(6,t)},dakaishouji:function(i){this.zhuangtai=i,0==i&&(this.xieyi=this.querenqianshouxieyi,this.buyanzheng=this.querenqianshoukaiguan,this.shows=!1),1==i&&(this.xieyi=this.shifouanzhaungxieyi,this.buyanzheng=this.shifouanzhaungkaiguan,this.baozhuangshow=!1),2==i&&(this.xieyi=this.yianzhaungxieyi,this.buyanzheng=this.yianzhaungkaiguan,this.qurren=!1),this.shoujiyanzheng=!0},lookdetails:function(i){var t=this;this.$api.bzxq({id:i.bzid}).then((function(i){1==i.data.code&&(t.bzxq=i.data.data.status,t.anzhuang=!0)}))},kuaidiwow:function(t){var a=this;0==t?this.kuaidi=!1:this.$api.sqexpress({orderid:this.kuaididata.orderid,sqexpress:this.kuaidigongsi,sqexpressorder:this.kuaididanhao}).then((function(t){i.showToast({title:t.data.msg,icon:"none"}),1==t.data.code&&(a.kuaidi=!1,a.allsss())}))},kuaidiwo:function(i){this.kuaididata=i,this.kuaidi=!0},jiesubaozhaung:function(i){this.qurrsaen=i,this.qurren=!0},tongyixieyi:function(){var t=this;if(this.buyanzheng){var a=0,n=[];if(this.xieyi.forEach((function(i){i.check&&(a++,n.push(i))})),this.xieyi.length!=a)return i.showToast({title:"请阅读并同意协议",icon:"none"});n.forEach((function(a){t.$api.userag({userid:i.getStorageSync("user_info").id,agid:a.id})})),this.shoujiyanzheng=!1,this.yuedu=!1}0==this.zhuangtai&&this.querenshouhuo(),1==this.zhuangtai&&this.shifouanzhuangdsadas(),2==this.zhuangtai&&this.anzhaungwancheng()},shifouanzhuangdsadas:function(){this.baozhuangshow=!1,i.setStorageSync("baozhaung",this.mnbv.shop),i.navigateTo({url:"./baozhaung?orderid="+this.mnbv.orderid+"&tiao=1"})},querenshouhuo:function(){var t=this;this.shows=!1,this.$api.sureorder({id:this.order_id}).then((function(a){1==a.data.code&&(t.shows=!1,i.showToast({title:"收货成功",icon:"none"}),t.baozhuangshow=!t.baozhuangshow,t.allsss(),t.current=3)}))},anzhaungwancheng:function(){var t=this;this.$api.successloading({orderid:this.qurrsaen.orderid}).then((function(a){1==a.data.code?(i.showToast({title:"安装完成",icon:"success"}),t.qurren=!1,t.allsss()):i.showToast({title:a.data.msg,icon:"none"})}))},baozhaung:function(i){this.mnbv=i,this.baozhuangshow=!this.baozhuangshow},delorder:function(t){var a=this;i.showModal({title:"是否删除此订单",content:t.orderid,success:function(n){n.confirm&&a.$api.deleorder({orderid:t.orderid}).then((function(t){i.showToast({title:t.data.msg,duration:1e3,icon:"none"}),1==t.data.code&&a.allsss()}))}})},allsss:function(){var t=this;this.$api.myorder({user_id:i.getStorageSync("user_info").id}).then((function(i){t.list.forEach((function(i,t){i.data_list=[]})),1==i.data.code&&(0==t.jifen?(i.data.data.status.forEach((function(i,a){0==i.score&&t.list[0].data_list.push(i)})),i.data.data.status.forEach((function(i){if(0==i.score)switch(i.state){case"1":t.list[1].data_list.push(i);break;case"2":t.list[2].data_list.push(i);break;case"3":t.list[3].data_list.push(i);break;case"4":t.list[3].data_list.push(i);break;case"16":t.list[4].data_list.push(i);break;case"17":t.list[5].data_list.push(i);break;default:}}))):1==i.data.code&&(i.data.data.status.forEach((function(i,a){1==i.score&&t.list[0].data_list.push(i)})),i.data.data.status.forEach((function(i){if(1==i.score)switch(i.state){case"1":t.list[1].data_list.push(i);break;case"2":t.list[2].data_list.push(i);break;case"4":t.list[3].data_list.push(i);break;default:}}))))}))},goods:function(t){i.navigateTo({url:"../pagesA/goods_data?order_id="+t.orderid+"&jifen=1"})},xuanzhea:function(t){var a=this;1==t&&this.$api.qxorder({orderid:this.order_id}).then((function(t){1==t.data.code&&(i.showToast({title:t.data.msg,icon:"none"}),a.allsss())})),this.showa=!1},jfquxiao:function(t){var a=this;this.$api.orderdzf({id:t.id}).then((function(t){1==t.data.code?(i.showToast({title:"订单取消成功",duration:1e3,icon:"success"}),a.current=0,a.allsss()):i.showToast({title:t.data.msg,duration:1e3,icon:"none"})}))},xuanzhe:function(t){var a=this;1==t&&this.$api.orderdzf({id:this.hahahaxuanzhe.id}).then((function(t){1==t.data.code?(i.showToast({title:"订单取消成功",duration:1e3,icon:"success"}),a.show=!1,a.current=0,a.allsss()):i.showToast({title:t.data.msg,duration:1e3,icon:"none"})})),this.show=!1},annui:function(t,a){var n=this;switch(t){case 0:this.order_id=a.id,this.show=!0,this.hahahaxuanzhe=a;break;case 1:this.$api.orderpay({prepay_id:a.id,id:a.id,dingjin:a.deposit}).then((function(t){if(200==t.data.code){var a=n;i.requestPayment({timeStamp:t.data.data.timeStamp,nonceStr:t.data.data.nonceStr,package:t.data.data.package,signType:t.data.data.signType,paySign:t.data.data.paySign,success:function(t){i.showToast({title:"支付成功",icon:"none"}),a.allsss(),a.current=1},fail:function(t){i.showToast({title:"支付失败",icon:"none"})}})}else i.showToast({title:t.data.msg,icon:"none"})}));break;case 2:this.order_id=a.orderid,this.showa=!0;break;case 3:i.navigateTo({url:"../pagesC/wuliu?id="+a.id+"&express="+a.express+"&expressorder="+a.expressorder});break;case 4:this.order_id=a.id,this.mnbv=a,this.shows=!0;break;case 5:var e="";e=2==this.current?0:1,i.navigateTo({url:"../pagesA/tuikuan?orderid="+a.orderid+"&type="+e});break;case 6:i.navigateTo({url:"../pagesC/pingjia?item="+JSON.stringify(a)+"&okj="+this.pingjiaok});break;case 7:i.navigateTo({url:"../pagesC/shouhou?item="+JSON.stringify(a)});break;case 8:this.shouhouitem=a,this.quxiaoshouhou=!0;break;default:}},system:function(){var t=i.getSystemInfoSync();this.height=t.windowHeight},lun_change:function(i){this.current=i.detail.current},change:function(i){this.current=i,this.title=this.lists[i].name},back:function(t){switch(t){case 0:i.navigateBack(-1);break;case 1:i.reLaunch({url:"/pages/Home/Home"});break;default:}},hahaha:function(i){i.check=!i.check},fuwenben:function(t){i.setStorageSync("fuwenbeng",t.content),i.navigateTo({url:"../pagesC/fuwenben?title="+t.name})},tongyis:function(t){var a=this;1==t?""!=this.code?this.$api.emsyzphone({phone:this.shoujihao,yzm:this.code}).then((function(t){1==t.data.code?(a.tongyi(1),a.shoujiyanzheng=!1):i.showToast({title:"验证码错误",duration:1e3,icon:"none"})})):i.showToast({title:"请输入验证码",icon:"none"}):this.shoujiyanzheng=!1},tongyi:function(i){1==i?this.yuedu=!0:(this.shoujiyanzheng=!1,this.yuedu=!1)},hahahaa:function(t){var a=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;a.test(t.detail.value)||i.showToast({title:"手机号不正确",icon:"none"})},go_code:function(){var t=this;0==this.timea&&this.$api.emsphone({phone:this.shoujihao,user_id:i.getStorageSync("user_info").id}).then((function(a){if(1==a.data.code){i.showToast({title:"发送成功",duration:1e3,icon:"none"}),t.timea=60;var n=setInterval((function(){t.timea--,t.huoqu=t.timea+"s后获取",0==t.timea&&(clearInterval(n),t.huoqu="获取验证码")}),1e3)}else i.showToast({title:"发送失败",duration:1e3,icon:"none"})}))}}};t.default=a}).call(this,a("543d")["default"])}},[["1363","common/runtime","common/vendor"]]]);