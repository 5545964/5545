(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pagesB/card"],{338:function(e,t,n){"use strict";(function(e){n(5);i(n(3));var t=i(n(339));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},339:function(e,t,n){"use strict";n.r(t);var i=n(340),a=n(342);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n(344);var o,r=n(11),u=Object(r["default"])(a["default"],i["render"],i["staticRenderFns"],!1,null,"3de20918",null,!1,i["components"],o);u.options.__file="pages/pagesB/card.vue",t["default"]=u.exports},340:function(e,t,n){"use strict";n.r(t);var i=n(341);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},341:function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return o})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return i}));try{i={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,659))},uParse:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-parse/u-parse")]).then(n.bind(null,735))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,885))},uAdata:function(){return n.e("uview-ui/components/u-adata/u-adata").then(n.bind(null,673))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,t=e.$createElement;e._self._c},s=!1,o=[];a._withStripped=!0},342:function(e,t,n){"use strict";n.r(t);var i=n(343),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},343:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,i,a,s,o){try{var r=e[s](o),u=r.value}catch(c){return void n(c)}r.done?t(u):Promise.resolve(u).then(i,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){s(o,i,a,r,u,"next",e)}function u(e){s(o,i,a,r,u,"throw",e)}r(void 0)}))}}var r={data:function(){return{canvasW:750,canvasH:600,backsss:this.$imgPath+"/uploads/20220221/7999ee50b489c9084c7861cc5192a74f.jpg",tuijian:[],imgList:[],rinima:[{img:"0",text:"13800138000",state:"phone",js:""},{img:"1",text:"109333333@qq.com",state:"email",js:""},{img:"2",text:"13800138000",state:"wechat",js:""},{img:"3",text:"13800138000",state:"map",js:"导航到我的公司！"}],imgtitle:this.$imgPath,userinfo:"",list:{},background:{background:""},title:"电子名片",state:0,cardinfo:{},desinfo:{},ewmsrc:"",latitude:30.602673,longitude:103.975896,wancheng:!1,imgdown:"",navber:!0,uniup:e.upx2px(725),level:0}},onShareAppMessage:function(e){return{title:"宝云邸家居",imageUrl:this.imgdown,path:"/pages/pagesB/card?share=1&userinfo="+JSON.stringify(this.userinfo)+"&states="+this.state+"&uid="+this.userinfo.id+"&level="+this.level}},onPageScroll:function(e){e.scrollTop>=this.uniup?this.navber=!1:this.navber=!0},onLoad:function(t){var n=this;t.title&&(this.title=t.title),t.state&&(this.state=1),t.share?(console.log(JSON.parse(t.userinfo)),console.log(t),this.state=t.states,this.userinfo=JSON.parse(t.userinfo)):this.userinfo=e.getStorageSync("user_info"),null!=this.userinfo.bbs&&(this.level=this.userinfo.bbs.id||0),this.getcard(),""!=this.userinfo.mobile?this.rinima[0].text=this.userinfo.mobile:""!=this.userinfo.email?this.rinima[1].text=this.userinfo.email:""!=this.userinfo.wechat&&(this.rinima[2].text=this.userinfo.wechat),this.$api.setcategory().then((function(e){1==e.data.code&&e.data.data.status.forEach((function(e){null!=e.image&&""!=e.image&&n.imgList.push({image:n.$imgPath+e.image,id:e.id})}))})),this.$api.indexcontent().then((function(e){1==e.data.code?(e.data.data.status.sort((function(){return Math.random()-.5})),n.tuijian=[],e.data.data.status.forEach((function(e,t){t<=1&&n.tuijian.push({id:e.id,title:e.name,image:e.image,video:"",alls:e})}))):n.data_list=[]})),""!=this.userinfo.bewm?this.ewmsrc=this.userinfo.bewm:this.$api.ewm({id:this.userinfo.id,level:this.level,type:0}).then((function(e){1==e.data.code&&(n.ewmsrc=e.data.data.status)}))},methods:{toSaveImage:function(){e.canvasToTempFilePath({canvasId:"mini_poster",success:function(e){}})},toDrawCanvas:function(){var t=this;return o(i.default.mark((function n(){var a,s,o,r,u,c,l,f,d,p,h,m,g;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.downloadImage(t.backsss);case 2:a=n.sent,s=e.createCanvasContext("mini_poster",t),s.drawImage(a.tempFilePath,0,0,t.canvasW,t.canvasH),o=e.upx2px(555),r=e.upx2px(66),u=e.upx2px(60),c=e.upx2px(70),s.drawImage("../../static/login.png",u,c,o,r),l=180,f=e.upx2px(l),d=e.upx2px(48),s.setTextBaseline("top"),s.setTextAlign("left"),s.fillStyle="#ffffff",s.setFontSize(d),s.fillText("名片展示姓名",u,f),p=e.upx2px(l+90),h=e.upx2px(30),s.setTextBaseline("top"),s.setTextAlign("left"),s.fillStyle="#ffffff",s.setFontSize(h),s.fillText("名片展示职务",u,p),m=e.upx2px(l+80+80),g=e.upx2px(24),s.setTextBaseline("top"),s.setTextAlign("left"),s.fillStyle="#ffffff",s.setFontSize(g),s.fillText("名片展示标题",u,m),s.draw(),t.toSaveImage();case 34:case"end":return n.stop()}}),n)})))()},downloadImage:function(t){return new Promise((function(n,i){e.downloadFile({url:t,success:function(e){return n(e)},fail:function(e){return i(e)}})}))},kan:function(t){e.previewImage({urls:[t],longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){},fail:function(e){}}})},goss:function(t){e.navigateTo({url:"../pagesC/FlagshipSet?id="+this.imgList[t].id})},go_shop:function(t){e.navigateTo({url:"../pagesC/FlagshipDetail?id="+t.id})},getcard:function(){var e=this;this.$api.business({state:this.state}).then((function(t){1==t.data.code&&(e.cardinfo=t.data.data.status)}))},gohome:function(){e.reLaunch({url:"/pages/Home/Home"})},go:function(){var t=this;e.openLocation({latitude:Number(t.latitude),longitude:Number(t.longitude),name:"宝芸邸生活家居(成都体验中心)",address:"四川省成都市武侯区成双大道585号旭耀鞋业4栋",success:function(){},fail:function(e){}})},copy:function(t){switch(t.state){case"map":this.go();break;case"phone":e.makePhoneCall({phoneNumber:t.text,success:function(e){},fail:function(e){}});break;default:e.setClipboardData({data:t.text.toString(),success:function(){}});break}},back:function(t){switch(t){case 0:e.navigateBack(-1);break;case 1:e.reLaunch({url:"/pages/Home/Home"});break;default:}}}};t.default=r}).call(this,n(1)["default"])},344:function(e,t,n){"use strict";n.r(t);var i=n(345),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},345:function(e,t,n){}},[[338,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/pagesB/card.js.map